{% extends 'base.html' %}

{% block content %}
  {% if object %}
    <h1>Edit Event<span class="teal-text">{{object.name}}</span></h1>
  {% else %}
    <h1>Add event</h1>
  {% endif %}
  <!-- Leaving the action empty makes the form post to the same url used to display it -->
  <div class="card event-card event-form">
    <form action="{% url 'events_update' event.id %}" method="post">
      {% csrf_token %}
      <table>
        {{ form.as_table }}
      </table>
      <div class="button-div">
        <input type="submit" value="Submit!" class="btn farm-red-bg">
      </div>
    </form>
  </div>



<script>
    const dateEl = document.getElementById('id_date');
    M.Datepicker.init(dateEl, {
        format: 'yyyy-mm-dd',
        defaultDate: new Date(),
        setDefaultDate: true,
        autoClose: true
    });

    const selectElResume = document.getElementById('id_type_of_event');
    M.FormSelect.init(selectElResume);
</script>

{% endblock %}